<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Text</title>
    <!-- Use Tailwind CSS for a clean, mobile-first design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Apply a custom font and dark theme with a vibrant gradient background */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #e0e7ff;
            min-height: 100vh;
        }
        .container {
            max-width: 90%;
            margin: 2rem auto;
            animation: fadeIn 1s ease-in-out;
            position: relative; /* Make container the positioning context for the version tag */
        }
        /* Custom styles for textareas to match the dark theme */
        textarea {
            background-color: #1a202c;
            border-color: #4a5568;
            resize: none; /* Disable resizing for a consistent look */
            transition: all 0.3s ease;
        }
        textarea:focus {
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.5);
            border-color: #6366f1;
        }
        button {
            transition: all 0.2s ease-in-out;
            transform: scale(1);
        }
        button:hover {
            transform: scale(1.05);
        }
        .btn-encode {
            background-color: #6366f1;
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }
        .btn-decode {
            background-color: #4b5563;
            color: #d1d5db;
            box-shadow: 0 4px 15px rgba(75, 85, 99, 0.2);
        }
        .btn-convert {
            background: linear-gradient(45deg, #10b981, #34d399);
            color: #ffffff;
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="container bg-[#1a202c] p-10 rounded-3xl shadow-2xl space-y-6 max-w-3xl w-full">
        <h1 class="text-5xl font-extrabold text-center text-white mb-8 tracking-wide">Emoji Text</h1>

        <!-- Mode Selection Buttons -->
        <div class="flex justify-center space-x-4 mb-6">
            <button id="encodeBtn" class="px-8 py-4 rounded-xl font-bold text-lg btn-encode">
                Encode
            </button>
            <button id="decodeBtn" class="px-8 py-4 rounded-xl font-bold text-lg btn-decode">
                Decode
            </button>
        </div>

        <!-- Input Box -->
        <div>
            <label for="inputText" class="block text-gray-300 text-sm font-medium mb-2">Input Text</label>
            <textarea id="inputText" rows="6" placeholder="Type your message here..." class="w-full p-5 rounded-xl border-2 border-gray-600 focus:border-indigo-400"></textarea>
        </div>

        <!-- Convert Button -->
        <div class="flex justify-center my-6">
            <button id="convertBtn" class="w-full max-w-sm px-10 py-4 rounded-xl font-bold text-2xl btn-convert transform hover:scale-105">
                Convert
            </button>
        </div>

        <!-- Output Box -->
        <div>
            <label for="outputText" class="block text-gray-300 text-sm font-medium mb-2">Output</label>
            <textarea id="outputText" rows="6" readonly class="w-full p-5 rounded-xl border-2 border-gray-600"></textarea>
        </div>

        <!-- Version Tag in the bottom right corner, within the container -->
        <div class="absolute bottom-4 right-4 text-sm text-gray-400 opacity-75">
            Beta 1.0
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Define the emoji mapping for each letter of the alphabet.
            // Each letter has exactly 5 unique emojis.
            const emojiMap = {
                'a': ['ðŸŽ', 'âœˆï¸', 'âš“ï¸', 'ðŸ‘½', 'ðŸš‘'],
                'b': ['ðŸ»', 'ðŸ¼', 'ðŸš²', 'ðŸŽˆ', 'ðŸ“š'],
                'c': ['ðŸ±', 'ðŸš—', 'ðŸ“¸', 'ðŸŒµ', 'ðŸª'],
                'd': ['ðŸ¶', 'ðŸ¬', 'ðŸŽ²', 'ðŸ¥', 'ðŸ‰'],
                'e': ['ðŸ˜', 'ðŸ¥š', 'ðŸ‘ï¸', 'ðŸŒ', 'âœ‰ï¸'],
                'f': ['ðŸ¸', 'ðŸ”¥', 'ðŸŒ¸', 'ðŸš©', 'ðŸ˜‚'],
                'g': ['ðŸ‘»', 'ðŸ‡', 'ðŸŽ', 'ðŸ¦’', 'ðŸ'],
                'h': ['â¤ï¸', 'ðŸ”¨', 'ðŸ ', 'ðŸ”', 'ðŸ¦”'],
                'i': ['ðŸ¦', 'ðŸï¸', 'â™¾ï¸', 'ðŸ†”', 'ðŸ›'],
                'j': ['ðŸ‘¨â€âš–ï¸', 'ðŸ‘–', 'ðŸ¤¹', 'ðŸŽƒ', 'ðŸ‡¯ðŸ‡µ'],
                'k': ['ðŸ”‘', 'ðŸ¥', 'ðŸª', 'ðŸ¦˜', 'ðŸ’‹'],
                'l': ['ðŸ¦', 'ðŸƒ', 'ðŸ’»', 'ðŸ”¦', 'ðŸ’¡'],
                'm': ['ðŸŒ•', 'â›°ï¸', 'ðŸ­', 'ðŸ„', 'ðŸ’°'],
                'n': ['ðŸ¥·', 'ðŸœ', 'ðŸ’…', 'ðŸ“°', 'ðŸ¦©'],
                'o': ['ðŸ¦‰', 'ðŸ™', 'ðŸŠ', 'ðŸ‘¹', 'â›Žï¸'],
                'p': ['ðŸ·', 'ðŸ•', 'ðŸ', 'ðŸ§', 'ðŸ¼'],
                'q': ['â“', 'ðŸ‘¸', 'ðŸ¦š', 'ðŸ¤«', 'ðŸ«“'],
                'r': ['ðŸ°', 'ðŸš€', 'ðŸ’', 'ðŸŒ¹', 'ðŸ¤–'],
                's': ['â­', 'â˜€ï¸', 'ðŸ', 'âš½', 'ðŸ¿ï¸'],
                't': ['ðŸ¯', 'ðŸŒ³', 'ðŸŒ®', 'ðŸŽŸï¸', 'ðŸ“ž'],
                'u': ['â˜‚ï¸', 'ðŸ¦„', 'ðŸ™ƒ', 'ðŸ‡ºðŸ‡¸', 'ðŸ›¸'],
                'v': ['ðŸŒ‹', 'ðŸŽ»', 'ðŸŽ®', 'ðŸ¦…', 'âœŒï¸'],
                'w': ['ðŸ³', 'ðŸ‰', 'ðŸŒŠ', 'âŒš', 'ðŸ§°'],
                'x': ['âŽ', 'âŒ', 'ðŸš·', 'ðŸ†–', 'âœ–ï¸'],
                'y': ['ðŸ ', 'â›µ', 'ðŸª€', 'ðŸ¥±', 'ðŸ’›'],
                'z': ['ðŸ¦“', 'ðŸ¤ª', 'ðŸ§Ÿ', 'ðŸ¤', 'ðŸ’¤']
            };

            // This is the reverse map for decoding. It's built dynamically.
            const letterMap = {};
            for (const letter in emojiMap) {
                emojiMap[letter].forEach(emoji => {
                    letterMap[emoji] = letter;
                });
            }

            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            const encodeBtn = document.getElementById('encodeBtn');
            const decodeBtn = document.getElementById('decodeBtn');
            const convertBtn = document.getElementById('convertBtn');
            let mode = 'encode'; // Initial mode

            // Function to set the active mode
            const setMode = (newMode) => {
                mode = newMode;
                if (mode === 'encode') {
                    encodeBtn.classList.remove('btn-decode');
                    encodeBtn.classList.add('btn-encode');
                    decodeBtn.classList.remove('btn-encode');
                    decodeBtn.classList.add('btn-decode');
                } else {
                    decodeBtn.classList.remove('btn-decode');
                    decodeBtn.classList.add('btn-encode');
                    encodeBtn.classList.remove('btn-encode');
                    encodeBtn.classList.add('btn-decode');
                }
                // Clear the output when the mode changes
                outputText.value = '';
            };

            // Encoding function: turns text into a random emoji from the corresponding letter's array
            const encode = () => {
                const input = inputText.value;
                let output = '';
                for (const char of input) {
                    const lowerChar = char.toLowerCase();
                    if (emojiMap[lowerChar]) {
                        // Pick a random emoji from the array for that letter
                        const emojis = emojiMap[lowerChar];
                        const randomIndex = Math.floor(Math.random() * emojis.length);
                        output += emojis[randomIndex] + ' '; // Add a space for readability
                    } else {
                        // Keep non-alphabetic characters as they are
                        output += char;
                    }
                }
                outputText.value = output.trim(); // Trim trailing space
            };

            // Decoding function: turns emojis back into their corresponding letters
            const decode = () => {
                const input = inputText.value.trim().split(/\s+/);
                let output = '';
                for (const emoji of input) {
                    if (letterMap[emoji]) {
                        output += letterMap[emoji];
                    } else {
                        // If it's not a known emoji, just add it back
                        output += emoji + ' ';
                    }
                }
                outputText.value = output.trim();
            };

            // Event listeners
            encodeBtn.addEventListener('click', () => setMode('encode'));
            decodeBtn.addEventListener('click', () => setMode('decode'));
            convertBtn.addEventListener('click', () => {
                if (mode === 'encode') {
                    encode();
                } else {
                    decode();
                }
            });

            // Initial call to set the default mode
            setMode('encode');
        });
    </script>
</body>
</html>
